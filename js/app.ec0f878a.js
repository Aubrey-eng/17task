(function(t){function e(e){for(var o,s,i=e[0],u=e[1],c=e[2],d=0,f=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);l&&l(e);while(f.length)f.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,i=1;i<n.length;i++){var u=n[i];0!==a[u]&&(o=!1)}o&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},a={app:0},r=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var l=u;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0e29":function(t,e,n){"use strict";var o=n("96c0"),a=n.n(o);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}}),n("router-view")],1)},r=[],s=n("2877"),i={},u=Object(s["a"])(i,a,r,!1,null,null,null),c=u.exports,l=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"task"}},[n("div",{staticClass:"memorandum"},[n("div",{staticStyle:{height:"110px"}},[n("h1",[t._v("17备忘录系统")]),n("div",{staticClass:"username"},[t._v("登录名:"),n("span",[t._v(t._s(t.username))]),t._v(" "),n("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.logout()}}},[t._v("退出")])])]),n("div",{staticClass:"task"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:"任务标题"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),n("button",{attrs:{type:"button"},on:{click:function(e){return t.addInfo()}}},[t._v("添加")]),n("button",{attrs:{type:"button"},on:{click:function(e){return t.clearInfo()}}},[t._v("清空备忘录")]),t._m(0),t._l(t.events,(function(e,o){return n("ul",{key:o,staticClass:"was"},[n("span",{ref:"event",refInFor:!0,staticStyle:{width:"5%"}},[t._v(t._s(e.id))]),n("span",{staticStyle:{width:"55%","text-align":"left"}},[t._v(t._s(e.title))]),n("span",{staticStyle:{width:"14%"}},[t._v(t._s(0==e.is_complete?"未完成":"已完成"))]),n("span",{staticStyle:{width:"25%"}},[0==e.is_complete?n("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.eventInfo(o)}}},[t._v("关闭任务")]):n("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.againInfo(o)}}},[t._v("重启任务")]),t._v(" "),n("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.deleteInfo(o)}}},[t._v("删除")])])])}))],2)])])},f=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"swa",staticStyle:{width:"100%",height:"60px","background-color":"#d4d5d7"}},[n("li",{staticStyle:{width:"5%"}},[t._v("编号")]),n("li",{staticStyle:{width:"55%"}},[t._v("标题")]),n("li",{staticStyle:{width:"14%"}},[t._v("状态")]),n("li",{staticStyle:{width:"25%"}},[t._v("操作")])])}],p={data:function(){return{username:window.localStorage.getItem("username"),user_id:window.localStorage.getItem("user_id"),events:[],title:"",password:"",isStatus:!1}},mounted:function(){this.getInfo()},methods:{logout:function(){this.$store.dispatch("logout"),this.$router.push("/login")},addInfo:function(){var t=this,e={user_id:t.user_id,title:t.title};this.$http.post(this.$host+"/info/create",e).then((function(e){var n=e.data;200==n.status?t.getInfo():alert(n.message)})).catch((function(t){console.log(t)}))},clearInfo:function(){var t=this,e={user_id:t.user_id};this.$http.post(this.$host+"/info/clear",e).then((function(e){var n=e.data;200==n.status?t.getInfo():alert(n.message)})).catch((function(t){console.log(t)}))},deleteInfo:function(t){var e=this,n={user_id:e.user_id,note_id:e.events[t].id};this.$http.post(this.$host+"/info/delete",n).then((function(t){var n=t.data;200==n.status?e.getInfo():alert(n.message)})).catch((function(t){console.log(t)}))},eventInfo:function(t){var e=this,n={user_id:e.user_id,note_id:e.events[t].id};this.$http.post(this.$host+"/info/change",n).then((function(t){var n=t.data;200==n.status?e.getInfo():alert(n.message)})).catch((function(t){console.log(t)}))},againInfo:function(t){var e=this,n={user_id:e.user_id,note_id:e.events[t].id};this.$http.post(this.$host+"/info/change",n).then((function(t){var n=t.data;200==n.status?e.getInfo():alert(n.message)})).catch((function(t){console.log(t)}))},getInfo:function(){var t=this;this.$http.get(this.$host+"/info/lists?user_id="+t.user_id).then((function(e){var n=e.data;200==n.status&&(t.events=n.data)})).catch((function(t){console.log(t)}))}}},h=p,v=(n("0e29"),Object(s["a"])(h,d,f,!1,null,"10fd7986",null)),m=v.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[t._m(0),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),n("button",{attrs:{type:"button"},on:{click:function(e){return t.login()}}},[t._v("登录")])])},_=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("b",[t._v("登录界面")])])}],w={data:function(){return{username:"",password:""}},methods:{login:function(){var t=this,e={username:this.username,password:this.password,user_id:null};this.$http.post(this.$host+"/user/login",e).then((function(e){var n=e.data;console.log(n),200==n.status?(t.$store.dispatch("login",{username:n.data.realname,user_id:n.data.id}),t.$router.push("/task")):alert(n.message)})).catch((function(t){console.log(t)}))}}},y=w,b=(n("d6db"),Object(s["a"])(y,g,_,!1,null,null,null)),I=b.exports;o["a"].use(l["a"]);var S=[{path:"/",name:"Task",component:m,meta:{isAuth:!0}},{path:"/task",name:"Task",component:m,meta:{isAuth:!0}},{path:"/login",name:"Login",component:I}],$=new l["a"]({mode:"history",routes:S});$.beforeEach((function(t,e,n){t.meta.isAuth?window.localStorage.getItem("username")?n():n("/login"):n()}));var O=$,k=n("2f62"),x={state:{username:window.localStorage.getItem("username")?window.localStorage.getItem("username"):null,user_id:window.localStorage.getItem("user_id")?window.localStorage.getItem("user_id"):null},getters:{username:function(t){return t.username},user_id:function(t){return t.user_id}},mutations:{LOGIN:function(t,e){t.username=e.username,t.user_id=e.user_id,window.localStorage.setItem("username",e.username),window.localStorage.setItem("user_id",e.user_id)},LOGOUT:function(t){t.username=null,window.localStorage.removeItem("username")}},actions:{login:function(t,e){t.commit("LOGIN",e)},logout:function(t){t.commit("LOGOUT")}}};o["a"].use(k["a"]);var j=new k["a"].Store({modules:{user:x}}),P=n("bc3a"),T=n.n(P);o["a"].prototype.$http=T.a,o["a"].prototype.$host="http://teach.yiibook.top/api/v1",o["a"].config.productionTip=!1,new o["a"]({router:O,store:j,render:function(t){return t(c)}}).$mount("#app")},"96c0":function(t,e,n){},d6db:function(t,e,n){"use strict";var o=n("e67a"),a=n.n(o);a.a},e67a:function(t,e,n){}});
//# sourceMappingURL=app.ec0f878a.js.map